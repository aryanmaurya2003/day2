<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <table style="border: 1px solid black;" border="1" id="table">
        <tr>
            <th>Marks 1</th>
            <th>Marks 2</th>
            <th>Marks 3</th>
            <th>Marks 4</th>
            <th>Marks 5</th>
            <th>Total</th>
            <th>Average</th>
        </tr>
    </table>

    <button style="margin-top: 10px;" onclick="addValues()">Add Number</button>

    <script>
        function getValidMarks(marksNumber) {
            var marks = Number(prompt(`Enter marks ${marksNumber}`));
            while (marks > 100 || marks < 0 || !marks) {
                alert("Please Enter valid marks between 0 to 100");
                marks = Number(prompt(`Enter marks ${marksNumber}`));
            }
            return marks;
        }

        function loadPreviousData() {
            var savedData = localStorage.getItem("marksData");
            if (savedData) {
                var allEntries = JSON.parse(savedData);
                var table = document.getElementById("table");
                
                allEntries.forEach(entry => {
                    var newRow = table.insertRow();
                    entry.marks.forEach(mark => newRow.insertCell().textContent = mark);
                    newRow.insertCell().textContent = entry.total;
                    newRow.insertCell().textContent = entry.average;
                });
            }
        }

        function addValues() {
            var marks = [];
            for (let i = 1; i <= 5; i++) {
                marks.push(getValidMarks(i));
            }

            var total = marks.reduce((sum, mark) => sum + mark, 0);
            var average = total / 5;

            var savedData = localStorage.getItem("marksData");
            var allEntries = savedData ? JSON.parse(savedData) : [];
            
            allEntries.push({
                marks: marks,
                total: total,
                average: average
            });
            
            localStorage.setItem("marksData", JSON.stringify(allEntries));

            var table = document.getElementById("table");
            var newRow = table.insertRow();

            marks.forEach(mark => newRow.insertCell().textContent = mark);
            newRow.insertCell().textContent = total;
            newRow.insertCell().textContent = average;
        }

        window.onload = loadPreviousData;

    </script>
</body>

</html>
